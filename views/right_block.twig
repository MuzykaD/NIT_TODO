<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="today/css/today.css">
    <style>
        i {
            font-size: 20px;
            margin: 5px;
        }
    </style>

</head>
<body>

<main id="main_container" role="main" class="container" style="margin-top: 10px">
    <div class="rightF point"> <!--позиція -->
        <div class>
            <h3 class = "today"> Today</h3>
        
            <details class="fix-frame">
                <summary class = "style-for-today-detail-list">Calendar <a>&#128197;</a></summary>

                    <li>hello</li>

                {% for event in events %}
                     
                {% endfor %}

            </details>

            <details class="fix-frame">
                <summary class = "style-for-today-detail-list">Habits <a>&#x1f4aa;</a></summary>

                <li>
                    <input type="checkbox"/>
                    CHECK
                </li>

                {% for habit in habits %}
                    <li>
                        <input type="checkbox"/>
                          {{ habit.name }}
                    </li>
                {% endfor %}

            </details>

            <details class="fix-frame">
                <summary class = "style-for-today-detail-list"> To do <a>&#9989;</a> </summary>
                {% for todo in todos %}
                    <li>
                        <input type="checkbox"/>
                        {{todo.name}}
                    </li>
                {% endfor %}
            </details>

            <div style="display: inline-block;">
                    <button class="circle-button"  data-toggle="modal" data-target="#addTodoModal" onclick="load_form('/todo/add/{{ todo.id }}', '#form_add_todo')">
                        +
                    </button>
            </div>

            <div class="modal fade" id="addTodoModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" id="modalLabel"> Add new Todo </h4>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Закрыть">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div id="form_add_todo" style="margin: 10px">
                            {# форму тянемо ajax #}
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    {% block body %}

    {% endblock %}

</main>

{% block javascripts %}

    <script src="today/js/today.js"></script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip();
        })
    </script>
    <script>
        function load_form (url, target) {
            $.ajax({
                method: "GET",
                url: url,
                dataType: "html"
            }).done(function( data ) {
                $(target).html(data);
            });
        }
    </script>
{% endblock %}

</body>
</html>
